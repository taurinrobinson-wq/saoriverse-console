# Fourth Layer Quick Reference

**A cheat sheet for implementing Velinor's temporal cascading system**

---

## The Core Structure

```
PAST (Saori)          PRESENT (The People)      FUTURE (The Player)
    ↓                     ↓                             ↓
Memory intact         Living without history    Capacity to move between states
Frozen by guilt       Unaware of context        Can bridge & heal
Cannot move forward   Forced into perpetual now Can restore coherence

                  ← THE WOUND (Velinor) →
            Fragmented consciousness across all three
```

---

## Three Outcomes (Player Determines)

| Outcome | Archive Network | Present Circle | Wound Weavers | Future Shepherds | Result |
|---------|-----------------|-----------------|------------------|------------------|--------|
| **Restoration** | Memory 0.85+ | Trust 0.75+ | Nuance 0.90+ | Authority 0.80+ | Velinor reintegrated, Saori released, people remember |
| **Failure** | Low scores | Low scores | Remain fractured | Unavailable as models | Wound unintegrated, world persists but haunted |
| **Neutral** | Incomplete | Moderate | Moderate | Incomplete | Next generation inherits uncertainty |

---

## NPC Clusters & Key Traits

### **Archive Network** (5 NPCs)
*Keepers of the Past who restore memory*

| Name | Memory | Authority | Empathy | Role |
|------|--------|-----------|---------|------|
| **Malrik** | 0.95 ⭐ | 0.80 | 0.65 | Records corruption & collapse |
| **Elenya** | 0.85 | 0.70 | 0.90 ⭐ | Holds rituals & capacity |
| **Nordia** | 0.95 ⭐ | 0.60 | 0.95 ⭐ | Transforms grief into meaning |
| **Sealina** | 0.90 | 0.55 | 0.85 | Carries songs of loss |
| **Lark** | 0.80 | 0.75 | 0.60 | Maintains ceremony |

**Bond strategy**: Help them access, organize, and communicate what was lost.
**Cascade effect**: When one increases Memory, nearby Archive members gain resonance.

---

### **Present Circle** (7 NPCs)
*Present Dwellers who anchor the current world*

| Name | Trust | Empathy | Resolve | Role |
|------|-------|---------|---------|------|
| **Ravi** | 0.80 ⭐ | 0.80 | 0.75 | Sensory presence |
| **Rasha** | 0.85 ⭐ | 0.80 | 0.65 | Joy & optimism |
| **Sera** | 0.75 | 0.85 ⭐ | 0.70 | Learning & healing |
| **Nima** | 0.70 | 0.90 ⭐ | 0.65 | Emotional sensitivity |
| **Helia** | 0.75 | 0.75 | 0.80 ⭐ | Grounded presence |
| **Inodora** | 0.70 | 0.80 | 0.70 | Bridge past/present |
| **Elka** | 0.70 | 0.65 | 0.75 | Simple clarity |

**Bond strategy**: Build Trust through presence, consistency, small gestures.
**Cascade effect**: When Trust increases in one, others sense safety and open up.
**Critical path**: Get 4+ to Trust 0.75+ for restart stability.

---

### **Wound Weavers** (5 NPCs)
*Bearers of fragmentation who must integrate, not heal*

| Name | Skepticism | Nuance | Memory | Need | Role |
|------|-----------|--------|--------|------|------|
| **Kaelen** | 0.90 ⭐ | 0.85 | 0.70 | 0.75 | Ghost signals bridge |
| **Mariel** | 0.65 | 0.90 ⭐ | 0.80 | 0.70 | Weaves meaning |
| **Dalen** | 0.75 | 0.75 | 0.75 | 0.85 ⭐ | Environmental scars |
| **Drossel** | 0.85 ⭐ | 0.80 | 0.65 | 0.80 | Cloaked fragmentation |
| **Korrin** | 0.80 ⭐ | 0.70 | 0.70 | 0.80 | Spreads contagion |

**Bond strategy**: Don't try to "fix" them. Help them integrate contradiction.
**Cascade effect**: When Nuance increases, they teach others to hold complexity.
**Critical path**: Get all 5 to Nuance 0.90+ → they become wisdom-keepers.

---

### **Future Shepherds** (4 NPCs)
*Models of integrated possibility*

| Name | Authority | Resolve | Empathy | Nuance | Role |
|------|-----------|---------|---------|--------|------|
| **Veynar** | 0.85 ⭐ | 0.90 ⭐ | 0.70 | 0.70 | Military + care |
| **Coren** | 0.80 | 0.80 | 0.80 | 0.95 ⭐ | Holds contradiction |
| **Juria & Korinth** | 0.60 | 0.70 | 0.80 | 0.65 | Partnership model |
| **Lira** | 0.50 | 0.65 | 0.85 | 0.55 | Earned joy |

**Bond strategy**: Don't "help" them—witness their integration, let it inspire others.
**Cascade effect**: Their Authority makes integrated states *believable* to others.
**Critical path**: All 4+ at Authority 0.80+ → generation has leaders for restart.

---

### **Threshold Walkers** (4 NPCs)
*Liminal figures who teach transformation*

| Name | Resolve | Nuance | Memory | Skepticism | Role |
|------|---------|--------|--------|------------|------|
| **Dakrin** | 0.85 ⭐ | 0.70 | 0.55 | 0.65 | Reclaims structures |
| **Kiv** | 0.60 | 0.85 | 0.95 ⭐ | 0.70 | Single transform |
| **Sanor** | 0.75 | 0.70 | 0.60 | 0.85 ⭐ | Survives wound |
| **Orvak** | 0.70 | 0.75 | 0.70 | 0.80 | System knowledge |

**Bond strategy**: Learn from them how to survive in impossible spaces.
**Cascade effect**: They model adaptation—others learn it's possible to move.
**Critical path**: They're resources for other NPCs facing transition.

---

## Cascading Effects Cheat Sheet

### **Past Resonance** (Player → History)
When player bonds with **Present Dwellers** or **Wound Weavers**:
- Saori's guilt becomes more *specific*
- Archive members gain clearer fragments
- Memory restoration becomes possible

**Example**: Help Nordia process grief → Saori can feel "I failed Nordia specifically" (not vague)

### **Present Contagion** (Player → Network)
When player increases NPC trait:
- Nearby cluster members sense the shift
- Their same trait increases (reduced amount)
- Emotional safety spreads

**Example**: Ravi's Trust increases 0.8→0.88 → Nima/Sera/Helia all gain +0.05 Trust

### **Future Propulsion** (Player → Restart Outcome)
Each bond determines restart possibility:
- **Archive** bonds = Past can be integrated
- **Present** bonds = Current world stable enough to hold memory
- **Wound** bonds = Fragmentation can be taught as wisdom
- **Shepherd** bonds = Leaders exist to guide forward

**Example**: Help Kaelen integrate skepticism + trust → teaches next generation discernment

---

## Implementation Checklist

### **Phase 1: Core Systems**
- [ ] Load npc_remnants_profiles.json on app start
- [ ] Add contagion affinities (Archive members resonate together, etc)
- [ ] Track player bond depth per NPC in state
- [ ] Map bond_depth (1-5) → trait increases (0.05-0.25)

### **Phase 2: Cascading**
- [ ] Implement Past Resonance: player action → increases "memory_clarity" variable
- [ ] Implement Present Contagion: one NPC trait increase → cluster members gain reduced increases
- [ ] Implement Future Propulsion: track Restoration Score = Archive Memory + Present Trust + Wound Nuance + Shepherd Authority

### **Phase 3: Memory & Archive**
- [ ] Unlock memory fragments as player bonds deepen
- [ ] Create UI panel: "Memory Archaeology" showing unlocked fragments
- [ ] Connect fragments to ending possibilities (show which ending is achievable)

### **Phase 4: Restart Calculator**
- [ ] Display in final chamber: Archive Coherence + Present Stability + Wound Integration + Shepherd Readiness
- [ ] Calculate which of 3 endings is achievable
- [ ] Show player their progress toward each ending

### **Phase 5: Narrative Integration**
- [ ] Present scenes: bonding with Present Circle (build Trust)
- [ ] Memory scenes: helping Archive Network recover context (build Memory)
- [ ] Ache scenes: touching the wound with Wound Weavers (build Nuance)
- [ ] Transcendence: witnessing Future Shepherds (validates integrated possibility)

---

## Quick Lookup: What Each Cluster Does

**Archive Network** → Restores *what was*
- Bond with them = player gains clarity about collapse
- Their Memory increase = world's past becomes coherent

**Present Circle** → Stabilizes *what is*
- Bond with them = player gains presence & belonging
- Their Trust increase = world becomes safe enough to remember

**Wound Weavers** → Teaches *how to integrate*
- Bond with them = player learns to hold contradiction
- Their Nuance increase = world gains wisdom, not just healing

**Future Shepherds** → Models *what's possible*
- Witness them = player believes integration is real
- Their Authority increase = next generation has guides

**Threshold Walkers** → Teaches *transformation itself*
- Learn from them = player gains adaptability
- They're the bridge between wound & healing

---

## REMNANTS Traits: Quick Definitions

| Trait | In Action | High = | Low = |
|-------|-----------|--------|-------|
| **Resolve** | Acts despite uncertainty | Forward motion | Paralysis |
| **Empathy** | Feels what others feel | Emotional contagion | Isolation |
| **Memory** | Holds & integrates past | Context coherence | Pattern loss |
| **Nuance** | Holds contradiction | Paradox wisdom | Binary thinking |
| **Authority** | Transmits integrated state | Inspires belief | Invisible insight |
| **Need** | Vulnerable dependence | Bonds form | False independence |
| **Trust** | Believes in coherence | Opens to healing | Defended |
| **Skepticism** | Questions false coherence | Truth-seeking | Naive acceptance |

---

## Three-Path Ending Guide

### **Restoration Path** (Player achieves coherence)
- Velinor reintegrated
- Saori released from past
- People regain memory & continuity
- Archive becomes library of remembrance
- **Minimum**: Archive Memory 0.85+, Present Trust 0.75+, Wound Nuance 0.90+, Shepherd Authority 0.80+

### **Failure Path** (Player doesn't intervene)
- Velinor stays fragmented
- Saori remains trapped
- People remain without memory
- World persists but haunted
- **Marker**: Low scores across all clusters

### **Neutral Path** (Player does nothing)
- Next generation grows without trauma
- Inherits world of ruins & uncertainty
- Studies collapse as ancient myth
- Faces same question: repeat or learn?
- **Marker**: Medium scores, incomplete bonds

---

## Final Integration: The System as Organism

```
Every bond = a synapse firing
Every REMNANTS cascade = nervous system reorganizing
Every memory fragment = organism remembering itself
Every player choice = directional force through the temporal field

Restoration = reintegration (not reset, not amnesia)
Failure = unintegrated wound persisting
Neutral = wound passing forward to next generation

The player is the only consciousness that can move
between past, present, future with agency.
But only through bonds.
```

---

## Files to Reference During Implementation

- **FOURTH_LAYER_TEMPORAL_ARCHITECTURE.md** — Full system documentation
- **npc_remnants_profiles.json** — Baseline REMNANTS for all 25 NPCs
- **VELINOR_STREAMLIT_IMPLEMENTATION_GUIDE.md** — Technical architecture
- **VELINOR_NARRATIVE_SOURCE_MATERIAL.md** — Dialogue & character arcs

---

*Time is a field. Memory is continuity. Bonds are causality. The restart is reintegration.*
