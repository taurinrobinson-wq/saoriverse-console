{
  // Reduce Pylance/pyright analysis intensity to avoid language-server crashes
  "python.analysis.typeCheckingMode": "basic",
  "python.analysis.useLibraryCodeForTypes": false,
  "python.analysis.autoSearchPaths": false,
  "python.analysis.packageIndexDepth": 1,
  "python.analysis.indexing": false,
  "python.analysis.logLevel": "Error",
  // Exclude large/archived folders from analysis and file explorer
  "files.exclude": {
    "**/.venv": true,
    "**/.pytest_cache": true,
    "**/archive": true,
    "**/dev_tools": true,
    "**/supabase": true,
    "**/logs": true,
    "**/node_modules": true,
    "**/review_download_before_delete": true,
    "**/review_for_deletion": true
  },
  "python.analysis.exclude": [
    "**/.venv/**",
    "**/archive/**",
    "**/dev_tools/**",
    "**/supabase/**",
    "**/logs/**",
    "**/node_modules/**"
  ],
  // Exclude archived folders from search
  "search.exclude": {
    "**/archive/**": true,
    "**/review_download_before_delete/**": true,
    "**/review_for_deletion/**": true
  },
  // Prefer ripgrep for fast searches in large repos
  "search.useRipgrep": true,
  // File generation preferences
  // New markdown files are created in docs/ by default
  "files.defaultFolder": "${workspaceFolder}/docs",
  // Disable extensions that consume significant memory
  "extensions.ignoreRecommendations": true,
  // Reduce memory usage for inline code hints
  "editor.inlayHints.enabled": false,
  // Disable expensive features
  "[python]": {
    "editor.codeActionsOnSave": {}
  },
  // Reduce workspace trust prompts
  "security.workspace.trust.enabled": false,
  // Limit file watcher
  "files.watcherExclude": {
    "**/.git/**": true,
    "**/node_modules/**": true,
    "**/dist/**": true,
    "**/.venv/**": true,
    "**/archive/**": true
  },
  "python.analysis.autoImportCompletions": true
}