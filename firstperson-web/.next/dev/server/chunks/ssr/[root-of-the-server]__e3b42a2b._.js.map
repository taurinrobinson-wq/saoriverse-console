{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///D:/saoriverse-console/firstperson-web/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport Image from \"next/image\";\r\n\r\ntype View = \"splash\" | \"login\" | \"register\";\r\n\r\nexport default function Home() {\r\n  const [view, setView] = useState<View>(\"splash\");\r\n  const [logoMoving, setLogoMoving] = useState(false);\r\n  const [loginUsername, setLoginUsername] = useState(\"\");\r\n  const [loginPassword, setLoginPassword] = useState(\"\");\r\n  const [registerData, setRegisterData] = useState({\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [loginError, setLoginError] = useState(\"\");\r\n  const [registerError, setRegisterError] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (view === \"splash\") {\r\n      const timer = setTimeout(() => {\r\n        setLogoMoving(true);\r\n      }, 1500);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [view]);\r\n\r\n  const handleLogin = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setLoginError(\"\");\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch(\"/api/auth/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          username: loginUsername,\r\n          password: loginPassword,\r\n        }),\r\n      });\r\n      const data = await response.json();\r\n      if (response.ok && data.success) {\r\n        if (data.access_token) {\r\n          localStorage.setItem(\"authToken\", data.access_token);\r\n        }\r\n        window.location.href = \"/chat\";\r\n      } else {\r\n        setLoginError(data.error || \"Login failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Login failed:\", error);\r\n      setLoginError(\"Connection error. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    setRegisterError(\"\");\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch(\"/api/auth/register\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(registerData),\r\n      });\r\n      const data = await response.json();\r\n      if (response.ok && data.success) {\r\n        setView(\"login\");\r\n        setRegisterError(\"\");\r\n        alert(\"Registration successful! Please log in.\");\r\n      } else {\r\n        setRegisterError(data.error || \"Registration failed\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Registration failed:\", error);\r\n      setRegisterError(\"Connection error. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDemo = async () => {\r\n    try {\r\n      window.location.href = \"/chat?demo=true\";\r\n    } catch (error) {\r\n      console.error(\"Demo load failed:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"auth-container\">\r\n      {/* SPLASH SCREEN */}\r\n      {view === \"splash\" && (\r\n        <div className=\"splash-content\">\r\n          {/* Logo - stays visible */}\r\n          <motion.div\r\n            animate={\r\n              logoMoving\r\n                ? {\r\n                    opacity: [1, 0, 1],\r\n                  }\r\n                : { opacity: 1 }\r\n            }\r\n            transition={{ duration: 0.8, ease: \"easeInOut\" }}\r\n            className=\"splash-logo\"\r\n          >\r\n            <Image\r\n              src=\"/graphics/FirstPerson-Logo_cropped.svg\"\r\n              alt=\"FirstPerson Logo\"\r\n              fill\r\n              className=\"object-contain\"\r\n              priority\r\n            />\r\n          </motion.div>\r\n\r\n          {/* Text that appears after logo dissolve */}\r\n          {logoMoving && (\r\n            <motion.div\r\n              initial={{ opacity: 0, y: 10 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ duration: 0.6, delay: 0.2 }}\r\n              className=\"splash-text\"\r\n            >\r\n              <h1 className=\"splash-title\">Personal Chat Companion</h1>\r\n\r\n              {/* Buttons - Login/Register side by side, Demo below */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.5, delay: 0.4 }}\r\n                className=\"splash-buttons\"\r\n              >\r\n                <div className=\"splash-buttons-row\">\r\n                  <button\r\n                    onClick={() => setView(\"login\")}\r\n                    className=\"btn btn-splash\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setView(\"register\")}\r\n                    className=\"btn btn-splash\"\r\n                  >\r\n                    Register\r\n                  </button>\r\n                </div>\r\n                <button\r\n                  onClick={handleDemo}\r\n                  className=\"btn btn-splash btn-splash-full\"\r\n                >\r\n                  Demo\r\n                </button>\r\n              </motion.div>\r\n            </motion.div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* LOGIN FORM */}\r\n      {view === \"login\" && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ duration: 0.3 }}\r\n          className=\"auth-card\"\r\n        >\r\n          <div className=\"auth-header\">\r\n            <h2 className=\"auth-title\">Sign In</h2>\r\n          </div>\r\n          <form onSubmit={handleLogin} className=\"auth-form\">\r\n            {loginError && (\r\n              <div className=\"form-error\">{loginError}</div>\r\n            )}\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"username\">Username</label>\r\n              <input\r\n                id=\"username\"\r\n                type=\"text\"\r\n                placeholder=\"Enter your username\"\r\n                value={loginUsername}\r\n                onChange={(e) => setLoginUsername(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                placeholder=\"Enter your password\"\r\n                value={loginPassword}\r\n                onChange={(e) => setLoginPassword(e.target.value)}\r\n                required\r\n              />\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-primary\"\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? \"Signing in...\" : \"Sign In\"}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setView(\"splash\");\r\n                setLoginError(\"\");\r\n              }}\r\n              className=\"btn\"\r\n            >\r\n              Back\r\n            </button>\r\n          </form>\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* REGISTER FORM */}\r\n      {view === \"register\" && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ duration: 0.3 }}\r\n          className=\"auth-card\"\r\n        >\r\n          <div className=\"auth-header\">\r\n            <h2 className=\"auth-title\">Create Account</h2>\r\n          </div>\r\n          <form onSubmit={handleRegister} className=\"auth-form\">\r\n            {registerError && (\r\n              <div className=\"form-error\">{registerError}</div>\r\n            )}\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"firstName\">First Name</label>\r\n              <input\r\n                id=\"firstName\"\r\n                type=\"text\"\r\n                placeholder=\"First name\"\r\n                value={registerData.firstName}\r\n                onChange={(e) =>\r\n                  setRegisterData({ ...registerData, firstName: e.target.value })\r\n                }\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"lastName\">Last Name</label>\r\n              <input\r\n                id=\"lastName\"\r\n                type=\"text\"\r\n                placeholder=\"Last name\"\r\n                value={registerData.lastName}\r\n                onChange={(e) =>\r\n                  setRegisterData({ ...registerData, lastName: e.target.value })\r\n                }\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                placeholder=\"your@email.com\"\r\n                value={registerData.email}\r\n                onChange={(e) =>\r\n                  setRegisterData({ ...registerData, email: e.target.value })\r\n                }\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"reg-username\">Username</label>\r\n              <input\r\n                id=\"reg-username\"\r\n                type=\"text\"\r\n                placeholder=\"Choose a username\"\r\n                value={registerData.username}\r\n                onChange={(e) =>\r\n                  setRegisterData({ ...registerData, username: e.target.value })\r\n                }\r\n                required\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"reg-password\">Password</label>\r\n              <input\r\n                id=\"reg-password\"\r\n                type=\"password\"\r\n                placeholder=\"Choose a password\"\r\n                value={registerData.password}\r\n                onChange={(e) =>\r\n                  setRegisterData({ ...registerData, password: e.target.value })\r\n                }\r\n                required\r\n              />\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-primary\"\r\n              disabled={isLoading}\r\n            >\r\n              {isLoading ? \"Creating...\" : \"Create Account\"}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setView(\"splash\");\r\n                setRegisterError(\"\");\r\n              }}\r\n              className=\"btn\"\r\n            >\r\n              Back\r\n            </button>\r\n          </form>\r\n        </motion.div>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAO;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;QAC/C,WAAW;QACX,UAAU;QACV,OAAO;QACP,UAAU;QACV,UAAU;IACZ;IACA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS,UAAU;YACrB,MAAM,QAAQ,WAAW;gBACvB,cAAc;YAChB,GAAG;YACH,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC;KAAK;IAET,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,cAAc;QACd,aAAa;QACb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC9C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU;oBACV,UAAU;gBACZ;YACF;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,SAAS,EAAE,IAAI,KAAK,OAAO,EAAE;gBAC/B,IAAI,KAAK,YAAY,EAAE;oBACrB,aAAa,OAAO,CAAC,aAAa,KAAK,YAAY;gBACrD;gBACA,OAAO,QAAQ,CAAC,IAAI,GAAG;YACzB,OAAO;gBACL,cAAc,KAAK,KAAK,IAAI;YAC9B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,cAAc;QAChB,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,iBAAiB,OAAO;QAC5B,EAAE,cAAc;QAChB,iBAAiB;QACjB,aAAa;QACb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,sBAAsB;gBACjD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,SAAS,EAAE,IAAI,KAAK,OAAO,EAAE;gBAC/B,QAAQ;gBACR,iBAAiB;gBACjB,MAAM;YACR,OAAO;gBACL,iBAAiB,KAAK,KAAK,IAAI;YACjC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,iBAAiB;QACnB,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,aAAa;QACjB,IAAI;YACF,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,qBAAqB;QACrC;IACF;IAEA,qBACE,8OAAC;QAAK,WAAU;;YAEb,SAAS,0BACR,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC,oMAAM,CAAC,GAAG;wBACT,SACE,aACI;4BACE,SAAS;gCAAC;gCAAG;gCAAG;6BAAE;wBACpB,IACA;4BAAE,SAAS;wBAAE;wBAEnB,YAAY;4BAAE,UAAU;4BAAK,MAAM;wBAAY;wBAC/C,WAAU;kCAEV,cAAA,8OAAC,wIAAK;4BACJ,KAAI;4BACJ,KAAI;4BACJ,IAAI;4BACJ,WAAU;4BACV,QAAQ;;;;;;;;;;;oBAKX,4BACC,8OAAC,oMAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAG;wBAC7B,SAAS;4BAAE,SAAS;4BAAG,GAAG;wBAAE;wBAC5B,YAAY;4BAAE,UAAU;4BAAK,OAAO;wBAAI;wBACxC,WAAU;;0CAEV,8OAAC;gCAAG,WAAU;0CAAe;;;;;;0CAG7B,8OAAC,oMAAM,CAAC,GAAG;gCACT,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAG;gCAC7B,SAAS;oCAAE,SAAS;oCAAG,GAAG;gCAAE;gCAC5B,YAAY;oCAAE,UAAU;oCAAK,OAAO;gCAAI;gCACxC,WAAU;;kDAEV,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,SAAS,IAAM,QAAQ;gDACvB,WAAU;0DACX;;;;;;0DAGD,8OAAC;gDACC,SAAS,IAAM,QAAQ;gDACvB,WAAU;0DACX;;;;;;;;;;;;kDAIH,8OAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;YAUV,SAAS,yBACR,8OAAC,oMAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;gBAAE;gBACtB,SAAS;oBAAE,SAAS;gBAAE;gBACtB,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAG,WAAU;sCAAa;;;;;;;;;;;kCAE7B,8OAAC;wBAAK,UAAU;wBAAa,WAAU;;4BACpC,4BACC,8OAAC;gCAAI,WAAU;0CAAc;;;;;;0CAE/B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAM,SAAQ;kDAAW;;;;;;kDAC1B,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;wCAChD,QAAQ;;;;;;;;;;;;0CAGZ,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAM,SAAQ;kDAAW;;;;;;kDAC1B,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;wCAChD,QAAQ;;;;;;;;;;;;0CAGZ,8OAAC;gCACC,MAAK;gCACL,WAAU;gCACV,UAAU;0CAET,YAAY,kBAAkB;;;;;;0CAEjC,8OAAC;gCACC,MAAK;gCACL,SAAS;oCACP,QAAQ;oCACR,cAAc;gCAChB;gCACA,WAAU;0CACX;;;;;;;;;;;;;;;;;;YAQN,SAAS,4BACR,8OAAC,oMAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;gBAAE;gBACtB,SAAS;oBAAE,SAAS;gBAAE;gBACtB,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;;kCAEV,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAG,WAAU;sCAAa;;;;;;;;;;;kCAE7B,8OAAC;wBAAK,UAAU;wBAAgB,WAAU;;4BACvC,+BACC,8OAAC;gCAAI,WAAU;0CAAc;;;;;;0CAE/B,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAM,SAAQ;kDAAY;;;;;;kDAC3B,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,aAAY;wCACZ,OAAO,aAAa,SAAS;wCAC7B,UAAU,CAAC,IACT,gBAAgB;gDAAE,GAAG,YAAY;gDAAE,WAAW,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAE/D,QAAQ;;;;;;;;;;;;0CAGZ,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAM,SAAQ;kDAAW;;;;;;kDAC1B,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,aAAY;wCACZ,OAAO,aAAa,QAAQ;wCAC5B,UAAU,CAAC,IACT,gBAAgB;gDAAE,GAAG,YAAY;gDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAE9D,QAAQ;;;;;;;;;;;;0CAGZ,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAM,SAAQ;kDAAQ;;;;;;kDACvB,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,aAAY;wCACZ,OAAO,aAAa,KAAK;wCACzB,UAAU,CAAC,IACT,gBAAgB;gDAAE,GAAG,YAAY;gDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAE3D,QAAQ;;;;;;;;;;;;0CAGZ,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAM,SAAQ;kDAAe;;;;;;kDAC9B,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,aAAY;wCACZ,OAAO,aAAa,QAAQ;wCAC5B,UAAU,CAAC,IACT,gBAAgB;gDAAE,GAAG,YAAY;gDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAE9D,QAAQ;;;;;;;;;;;;0CAGZ,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAM,SAAQ;kDAAe;;;;;;kDAC9B,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,aAAY;wCACZ,OAAO,aAAa,QAAQ;wCAC5B,UAAU,CAAC,IACT,gBAAgB;gDAAE,GAAG,YAAY;gDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAE9D,QAAQ;;;;;;;;;;;;0CAGZ,8OAAC;gCACC,MAAK;gCACL,WAAU;gCACV,UAAU;0CAET,YAAY,gBAAgB;;;;;;0CAE/B,8OAAC;gCACC,MAAK;gCACL,SAAS;oCACP,QAAQ;oCACR,iBAAiB;gCACnB;gCACA,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;AAQb"}}]
}